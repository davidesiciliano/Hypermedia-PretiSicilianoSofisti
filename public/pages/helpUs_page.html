<!doctype html>
<html lang=en>
<head>
  <title>Volontariato di Montagna</title>
  <link rel="stylesheet" type="text/css" href="../asset/css/styles.css">
  <link rel="stylesheet" href="../asset/img/fontawesome-free-5.13.0-web/css/all.css">
  <meta charset="utf-8">

  <link rel="apple-touch-icon" sizes="180x180" href="../asset/img/Favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../asset/img/Favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../asset/img/Favicon/favicon-16x16.png">
  <link rel="manifest" href="../asset/img/Favicon/site.webmanifest">
  <link rel="mask-icon" href="../asset/img/Favicon/safari-pinned-tab.svg" color="#5bbad5">
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
</head>

<body>
<!--header-->
<nav class="header" id="helpUsPage"></nav>

<!--contents-->
<div class="contents">
  <div class="help">
    <div class="presentation">
      <h2 class="title">Help Us</h2>
      <p>Many small Farms are at risk of extinction and with them the enormous cultural background of Italian
        traditions.
        Help us preserve them and learn by helping local small farmers by donating some of your time to help these
        activities often run by older people and give life back to the mountains.
        Joining us is totally free and all people al well accepted!</p>
    </div>
    <div class="form">
      <div class="form-content">
        <h2 class="title">Apply now</h2>
        <div class="row row-space">
          <div class="col-3">
            <div class="input-group">
              <input class="input--style-1" type="text" placeholder="NAME" name="name" id="inputName">
            </div>
          </div>
          <div class="col-3">
            <div class="input-group">
              <input class="input--style-1" type="text" placeholder="SURNAME" name="surname" id="inputSurname">
            </div>
          </div>
          <div class="col-3">
            <div class="input-group">
              <input class="input--style-1" type="text" placeholder="BIRTH DATE" name="birthDate" id="inputBirthDate">
            </div>
          </div>
        </div>
        <div class="row row-space">
          <div class="col-3">
            <div class="input-group">
              <input class="input--style-1" type="text" placeholder="ADDRESS" name="address" id="inputAddress">
            </div>
          </div>
          <div class="col-3">
            <div class="input-group">
              <input class="input--style-1" type="text" placeholder="CITY" name="city" id="inputCity">
            </div>
          </div>
          <div class="province-col">
            <div class="input-group province">
              <input class="input--style-1 province" type="text" placeholder="PROVINCE" name="province"
                     id="inputProvince">
            </div>
          </div>
        </div>
        <div class="row row-space">
          <div class="col-2">
            <div class="input-group">
              <input class="input--style-1" type="text" placeholder="PHONE NUMBER" name="phoneNumber"
                     id="inputPhoneNumber">
            </div>
          </div>
          <div class="col-2">
            <div class="input-group">
              <input class="input--style-1" type="text" placeholder="EMAIL" name="email" id="inputEmail">
            </div>
          </div>
        </div>
        <div class="input-group">
          <input class="input--style-1" type="text" placeholder="SKILLS" name="skills" id="inputSkills">
        </div>
        <div class="button-container">
          <button class="joinUsBtn" type="submit" id="sendForm"><a href="">Submit</a></button>
        </div>

        <script>
          //TODO aggiungere messaggio quando viene inviato correttamente
          const url = "http://localhost:5000";

          var button = document.getElementById("sendForm");
          button.onclick = function () {

            var name = document.getElementById("inputName").value;
            var surname = document.getElementById("inputSurname").value;
            var birthDate = document.getElementById("inputBirthDate").value;
            var address = document.getElementById("inputAddress").value;
            var city = document.getElementById("inputCity").value;
            var province = document.getElementById("inputProvince").value;
            var phoneNumber = document.getElementById("inputPhoneNumber").value;
            var email = document.getElementById("inputEmail").value;
            var skills = document.getElementById("inputSkills").value;

            const data = {
              id: 1,
              name: name,
              surname: surname,
              birthDate: birthDate,
              address: address,
              city: city,
              province: province,
              phoneNumber: phoneNumber,
              email: email,
              skills: skills
            };

            fetch(url + "/v2/helpUsForm/sendForm", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(data),
            })
              .then(response => response.json())
              .then(data => {
                console.log('Success:', data);
              })
              .catch((error) => {
                console.error('Error:', error);
              });
          }

        </script>

        </form>
      </div>
    </div>
  </div>
</div>


<!--footer-->
<div class="footer"></div>

</body>
<script src="../asset/js/script-header.js"></script>
<script src="../asset/js/script-footer.js"></script>
<script src="../asset/js/script.js"></script>
</html>